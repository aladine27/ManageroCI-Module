<nb-card *ngIf="project">
    <nb-card-header>
        <h3>DÃ©tails du Projet</h3>
    </nb-card-header>
    <nb-card-body>
        <div class="form-group">
            <label>Nom du Projet:</label>
            <p>{{ project.name }}</p>
        </div>
        <div class="form-group">
            <label>Description:</label>
            <p>{{ project.description }}</p>
        </div>
        <div class="form-group">
            <label>Git URL:</label>
            <a [href]="project.gitUrl" target="_blank">{{ project.gitUrl }}</a>
        </div>
        <div class="form-group">
            <label>Git Username:</label>
            <p>{{ project.gitUsername }}</p>
        </div>
        <div class="form-group">
            <label>Git Repo:</label>
            <p>{{ project.gitRepo }}</p>
        </div>
        <div class="form-group">
            <label>Git Token:</label>
            <p>{{ project.token }}</p>
        </div>
        <div class="form-group">
            <label>Branch:</label>
            <nb-select [(selected)]="selectedBranch">
                <nb-option *ngFor="let branch of branches" [value]="branch">{{ branch }}</nb-option>
            </nb-select>
        </div>
        <button nbButton status="primary" routerLink="/pages/agile/ci-devops-group2/project-management">Retour</button>
    </nb-card-body>
</nb-card>

<nb-card>
    <nb-card-header>
        <h3>Actions</h3>
    </nb-card-header>
    <nb-card-body>
        <button nbButton status="success" (click)="buildProject()">Build</button>
        <button nbButton status="primary" (click)="viewBuildDetails(project.id)">View Build Details</button>
        <button nbButton status="info" (click)="checkCodeQuality()">Check Code Quality</button>

        <nb-alert *ngIf="showAlert" [status]="alertStatus" (close)="showAlert=false">
            {{ alertMessage }}
        </nb-alert>
    </nb-card-body>
</nb-card>

<nb-card *ngIf="sonarReport">
    <nb-card-header>
        <h3>Code Quality Report</h3>
    </nb-card-header>
    <nb-card-body>
        <div *ngFor="let metric of sonarReport.metrics">
            <p>{{ metric.metric }}: {{ metric.value }}</p>
        </div>
    </nb-card-body>
</nb-card>
